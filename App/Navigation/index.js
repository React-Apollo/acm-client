import React from 'react';
import { View } from 'react-native';
import PropTypes from 'prop-types';
import { addNavigationHelpers } from 'react-navigation';
import { addListener } from 'Reduck/Navigation';
import { connect } from 'react-redux';
import styles from './styles';
import { AppNavigator, KEY } from 'Reduck/Navigation';
import Drawer from './Drawer';
import ToolbarWrapper from './Toolbar/Wrapper';

/**
 * DO NOT edit this file if you want to add new Scene
 * If you want to add a new one, take a look at ./routes.js
 */

const AppNavigation = ({ navigation, dispatch }) => (
  <View style={styles.container}>
    <Drawer>
      <ToolbarWrapper>
        <AppNavigator
          navigation={addNavigationHelpers({
            dispatch,
            state: navigation,
            addListener,
          })}
        />
      </ToolbarWrapper>
    </Drawer>
  </View>
);

AppNavigation.propTypes = {
  navigation: PropTypes.object,
  dispatch: PropTypes.func,
};

const mapStateToProps = state => ({
  navigation: state[KEY],
});

export default connect(mapStateToProps)(AppNavigation);
